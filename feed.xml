<?xml version="1.0" encoding="utf-8"?><feed xmlns="http://www.w3.org/2005/Atom" ><generator uri="https://jekyllrb.com/" version="4.2.1">Jekyll</generator><link href="https://a01sa01to.com/feed.xml" rel="self" type="application/atom+xml" /><link href="https://a01sa01to.com/" rel="alternate" type="text/html" /><updated>2022-02-03T09:57:01+00:00</updated><id>https://a01sa01to.com/feed.xml</id><title type="html">Asa’s Website</title><author><name>Asa</name></author><entry><title type="html">Nuxtで作り直し</title><link href="https://a01sa01to.com/blog/2022/01/nuxt-recreate" rel="alternate" type="text/html" title="Nuxtで作り直し" /><published>2022-01-15T00:00:00+00:00</published><updated>2022-01-15T00:00:00+00:00</updated><id>https://a01sa01to.com/blog/2022/01/nuxt-recreate</id><content type="html" xml:base="https://a01sa01to.com/blog/2022/01/nuxt-recreate"><![CDATA[<p>お久しぶりです。</p>

<p>Nuxt でサイトを作り直してます。詳細はまた後日…。</p>]]></content><author><name>Asa</name></author><category term="Nuxt" /><category term="Website" /><summary type="html"><![CDATA[お久しぶりです。]]></summary></entry><entry><title type="html">ABC212</title><link href="https://a01sa01to.com/blog/2021/07/abc212" rel="alternate" type="text/html" title="ABC212" /><published>2021-07-31T00:00:00+00:00</published><updated>2021-07-31T00:00:00+00:00</updated><id>https://a01sa01to.com/blog/2021/07/abc212</id><content type="html" xml:base="https://a01sa01to.com/blog/2021/07/abc212"><![CDATA[<p>8 問体制になっても、相変わらず 3 完ですよ。はい。<br />
D も解けたけど、謎の TLE（解決済）したので間に合わなかった…。</p>

<h2 id="問題概要">問題概要</h2>

<h3 id="a">A</h3>

<p>$A$グラムの純金と$B$グラムの純銀。$A \gt 0 \And B = 0$なら<code class="language-plaintext highlighter-rouge">Gold</code>、$A = 0 \And B \gt 0$なら<code class="language-plaintext highlighter-rouge">Silver</code>、$A \gt 0 \And B \gt 0$なら<code class="language-plaintext highlighter-rouge">Alloy</code>と出力。</p>

<h3 id="b">B</h3>

<p>4 桁の暗証番号 $X_1 X_2 X_3 X_4$。4 桁が同じ数字か、すべての$i (1,2,3)$について$X_{i+1}$が$X_i$の次の数字なら、<code class="language-plaintext highlighter-rouge">Weak</code>。そうでなければ<code class="language-plaintext highlighter-rouge">Strong</code>。</p>

<h3 id="c">C</h3>

<p>2 つの数列から 1 つずつ要素を選んだときの 2 つの値の差の最小値（$\displaystyle \min_{ 1\leq i\leq N}\displaystyle\min_{1\leq j\leq M} \lvert A_i-B_j\rvert$） を求める</p>

<h3 id="d">D</h3>

<p>$Q$個のクエリ $P_i, X_i$。</p>

<ul>
  <li>$P_i=1$: 袋に整数$X_i$を追加</li>
  <li>$P_i=2$: 袋に入っているすべての数字について、$X_i$を足す</li>
  <li>$P_i=3$: 袋に入っている最小の数を取り出し、その数字を出力して捨てる</li>
</ul>

<h2 id="提出">提出</h2>

<h3 id="a-1">A</h3>

<p><a href="https://atcoder.jp/contests/abc212/submissions/24644697">提出 #24644697 - AtCoder Beginner Contest 212</a></p>

<p>そのまま if 文で場合分けすれば OK。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">fixed</span> <span class="o">&lt;&lt;</span> <span class="n">setprecision</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
  <span class="kt">int</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Gold"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="mi">0</span> <span class="o">&amp;&amp;</span> <span class="n">b</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Silver"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Alloy"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>提出時刻は 21:01:11。これまでと変わらずって感じ。</p>

<h3 id="b-1">B</h3>

<p><a href="https://atcoder.jp/contests/abc212/submissions/24656788">提出 #24656788 - AtCoder Beginner Contest 212</a></p>

<p>問題文を言い換えると、 「i=0 ～ 2 で、$X_{i+1}=(X_i+1) \mathrm{mod} 10$か、$X_{i+1}=X_i$のどちらか一方になっていれば Weak」になります。<br />
私は vector&lt;int&gt;を用いて計算しました。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="cp">#define loop(i, n) for (ll i = 0; i &lt; n; i++)
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">fixed</span> <span class="o">&lt;&lt;</span> <span class="n">setprecision</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
  <span class="n">string</span> <span class="n">s</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">s</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">int</span><span class="o">&gt;</span> <span class="n">v</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'0'</span> <span class="o">==</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="sc">'0'</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span> <span class="o">%</span> <span class="mi">10</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="n">s</span><span class="p">[</span><span class="n">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
      <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="mi">2</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="kt">bool</span> <span class="n">isStrong</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="n">v</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">v</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">==</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">v</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">!=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">isStrong</span> <span class="o">=</span> <span class="nb">false</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">isStrong</span> <span class="o">?</span> <span class="s">"Strong"</span> <span class="o">:</span> <span class="s">"Weak"</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>もっと簡潔な方法として、解説にあった「i=0 ～ 2 のいずれかで、$X_{i+1}=(X_i+1) \mathrm{mod} 10$か、$X_{i+1}=X_i$の両方になっていなければ Strong」（私の対偶？）とすることで、「どちらか一方」を無視できるので、かなり場合分けが簡単になっていました。</p>

<p>提出時刻は 21:11:41。最初ちょっと悩んだので遅れてしまった…。</p>

<h3 id="c-1">C</h3>

<p><a href="https://atcoder.jp/contests/abc212/submissions/24664712">提出 #24664712 - AtCoder Beginner Contest 212</a></p>

<p>それぞれをソートすれば、かなり計算量を減らせました。私の解説より、公式解説がめちゃくちゃわかりやすいと思うので、<a href="https://atcoder.jp/contests/abc212/editorial/2355">解説 - AtCoder Beginner Contest 212</a> をご覧いただければ…。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;</span> <span class="n">ll1d</span><span class="p">;</span>
<span class="cp">#define loop(i, n) for (ll i = 0; i &lt; n; i++)
#define all(vec) vec.begin(), vec.end()
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">fixed</span> <span class="o">&lt;&lt;</span> <span class="n">setprecision</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
  <span class="n">ll</span> <span class="n">n</span><span class="p">,</span> <span class="n">m</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">m</span><span class="p">;</span>
  <span class="n">ll1d</span> <span class="n">a</span><span class="p">(</span><span class="n">n</span><span class="p">),</span> <span class="n">b</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="p">}</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="p">}</span>
  <span class="n">sort</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">a</span><span class="p">));</span>
  <span class="n">sort</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">b</span><span class="p">));</span>
  <span class="n">ll</span> <span class="n">minim</span> <span class="o">=</span> <span class="mf">1e9</span><span class="p">;</span>
  <span class="n">ll</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">j</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">while</span> <span class="p">(</span><span class="n">i</span> <span class="o">&lt;</span> <span class="n">n</span> <span class="o">&amp;&amp;</span> <span class="n">j</span> <span class="o">&lt;</span> <span class="n">m</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">minim</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">minim</span><span class="p">,</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">]);</span>
      <span class="n">j</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="n">minim</span> <span class="o">=</span> <span class="n">min</span><span class="p">(</span><span class="n">minim</span><span class="p">,</span> <span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">]</span> <span class="o">-</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
      <span class="n">i</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">minim</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>最初$A_i - B_j \ge 0$ではないときに、minim を更新しないコードを提出してしまい、1 ペナ。<br />
提出時刻は 21:23:01 ですが、ペナルティにより+5 分…。</p>

<h3 id="d-1">D</h3>

<p><a href="https://atcoder.jp/contests/abc212/submissions/24691944">提出 #24691944 - AtCoder Beginner Contest 212</a></p>

<p>袋にいれていちいちソートしても間に合わないので、<code class="language-plaintext highlighter-rouge">priority_queue</code>を使いました。また、いちいちすべてに「$X_i$を足す」ことはできないので、これまで足された数を$Add$に記録しておき、「$X_i$を追加」を「$X_i - Add$を追加」にしておくことで、計算量は大幅に減ります。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;atcoder/all&gt;
#include &lt;bits/stdc++.h&gt;
</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">atcoder</span><span class="p">;</span>

<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span class="p">;</span>

<span class="cp">#define loop(i, n) for (ll i = 0; i &lt; n; i++)
#define all(vec) vec.begin(), vec.end()
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">fixed</span> <span class="o">&lt;&lt;</span> <span class="n">setprecision</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
  <span class="n">ll</span> <span class="n">q</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">q</span><span class="p">;</span>
  <span class="n">priority_queue</span><span class="o">&lt;</span><span class="n">ll</span><span class="p">,</span> <span class="n">ll1d</span><span class="p">,</span> <span class="n">greater</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;&gt;</span> <span class="n">pq</span><span class="p">;</span>
  <span class="n">ll</span> <span class="n">add</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">_</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ll</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="mi">3</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">ll</span> <span class="n">v</span> <span class="o">=</span> <span class="n">pq</span><span class="p">.</span><span class="n">top</span><span class="p">();</span>
      <span class="n">pq</span><span class="p">.</span><span class="n">pop</span><span class="p">();</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">v</span> <span class="o">+</span> <span class="n">add</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
      <span class="k">continue</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">pq</span><span class="p">.</span><span class="n">push</span><span class="p">(</span><span class="n">b</span> <span class="o">-</span> <span class="n">add</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="n">add</span> <span class="o">+=</span> <span class="n">b</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>しかし、コンテスト中に提出したコードでは TLE が出ました。<br />
何がまずかったのか。<a href="https://atcoder.jp/contests/abc212/submissions/24669623">提出 #24669623</a>のファイル先頭にある、「<code class="language-plaintext highlighter-rouge">#define _GLIBCXX_DEBUG</code>」です。<br />
一応デバッグ用に追加したものなんですが、ファイルをそのままコピペして提出しているため、要は「デバッグ用のコードをそのまま提出している」という状況でした。<br />
これまでまったく問題がなかったのですが、今回、この 1 行があることで大幅に実行時間を食ってしまっていたようです。<br />
これを消した結果（<a href="https://atcoder.jp/contests/abc212/submissions/24691944">提出 #24691944</a>）、実行時間は 193ms と、大幅に減りました。</p>

<h2 id="結果と感想">結果と感想</h2>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">下がった。# define _GLIBCXX_DEBUG 許さん😡😡😡 （なければPerf1100超えてたのに...）<br /><br />a01sa01toさんのAtCoder Beginner Contest 212での成績：3379位<br />パフォーマンス：695相当<br />レーティング：776→768 (-8) :(<a href="https://twitter.com/hashtag/AtCoder?src=hash&amp;ref_src=twsrc%5Etfw">#AtCoder</a> <a href="https://twitter.com/hashtag/ABC212?src=hash&amp;ref_src=twsrc%5Etfw">#ABC212</a> <a href="https://t.co/ghSOegpWYP">https://t.co/ghSOegpWYP</a></p>&mdash; Asa (@a01sa01to) <a href="https://twitter.com/a01sa01to/status/1421474406052728839?ref_src=twsrc%5Etfw">July 31, 2021</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>はい、下がりました。<br />
ツイートの通り、<code class="language-plaintext highlighter-rouge">#define _GLIBCXX_DEBUG</code>のせいで下がったといっても過言ではありません。<br />
（1 回ミスりましたが）実質正解のコードを 21:32:24 に提出しており、コンテスト全体のペナルティ加算の提出時間は「42:24」になっていたはずだったためです。<br />
このとき Perf は 1146 になっていたため、まじで<code class="language-plaintext highlighter-rouge">#define _GLIBCXX_DEBUG</code>は許しません。</p>

<p>とはいっても自分の無知のせいなので、今後のコンパイルでは、ソースコードではなくコンパイルオプションとして<code class="language-plaintext highlighter-rouge">-D_GLIBCXX_DEBUG</code>を追加することにします…。</p>

<p>次は 5 完を目指します…。</p>]]></content><author><name>Asa</name></author><category term="AtCoder" /><category term="ABC" /><category term="Competitive-Programming" /><summary type="html"><![CDATA[8 問体制になっても、相変わらず 3 完ですよ。はい。 D も解けたけど、謎の TLE（解決済）したので間に合わなかった…。]]></summary></entry><entry><title type="html">ABC211</title><link href="https://a01sa01to.com/blog/2021/07/abc211" rel="alternate" type="text/html" title="ABC211" /><published>2021-07-24T00:00:00+00:00</published><updated>2021-07-24T00:00:00+00:00</updated><id>https://a01sa01to.com/blog/2021/07/abc211</id><content type="html" xml:base="https://a01sa01to.com/blog/2021/07/abc211"><![CDATA[<p>今回は 3 完。D 解けそうだったのに解けず、かなり悔しい。</p>

<h2 id="問題概要">問題概要</h2>

<h3 id="a">A</h3>

<p>$C = \frac{A-B}{3} +B$を求める</p>

<h3 id="b">B</h3>

<p>$S_{1～4}$の中に<code class="language-plaintext highlighter-rouge">H</code>, <code class="language-plaintext highlighter-rouge">2B</code>, <code class="language-plaintext highlighter-rouge">3B</code>, <code class="language-plaintext highlighter-rouge">HR</code>が 1 つずつあるかチェック</p>

<h3 id="c">C</h3>

<p>文字列の中から 8 文字選んで、左から<code class="language-plaintext highlighter-rouge">chokudai</code>とする方法は何通りか</p>

<h3 id="ちなみに-d">ちなみに D</h3>

<p>都市 1 から都市 N まで、最短で移動できる経路は何通りか</p>

<h2 id="提出">提出</h2>

<p>全体の提出：<a href="https://atcoder.jp/contests/abc211/submissions?f.User=a01sa01to">a01sa01to の提出 - AtCoder Beginner Contest 211</a></p>

<h3 id="a-1">A</h3>

<p><a href="https://atcoder.jp/contests/abc211/submissions/24478580">提出 #24478580 - AtCoder Beginner Contest 211</a></p>

<p>double 型でそのまま出力。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;atcoder/all&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">fixed</span> <span class="o">&lt;&lt;</span> <span class="n">setprecision</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
  <span class="kt">double</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">b</span> <span class="o">+</span> <span class="p">(</span><span class="n">a</span> <span class="o">-</span> <span class="n">b</span><span class="p">)</span> <span class="o">/</span> <span class="mi">3</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>提出時刻は 21:00:47。1 分以内で解けたのは ABC205 以来。わーい</p>

<h3 id="b-1">B</h3>

<p><a href="https://atcoder.jp/contests/abc211/submissions/24485829">提出 #24485829 - AtCoder Beginner Contest 211</a></p>

<p>4 次元の bool 配列を用意して、それぞれがあれば true にする。そのあと、false が含まれていれば<code class="language-plaintext highlighter-rouge">No</code>。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">chk</span><span class="p">(</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="o">&amp;</span><span class="n">t</span><span class="p">,</span> <span class="n">string</span> <span class="n">s</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="o">==</span> <span class="s">"H"</span><span class="p">)</span> <span class="p">{</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="o">==</span> <span class="s">"2B"</span><span class="p">)</span> <span class="p">{</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="o">==</span> <span class="s">"3B"</span><span class="p">)</span> <span class="p">{</span> <span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">s</span> <span class="o">==</span> <span class="s">"HR"</span><span class="p">)</span> <span class="p">{</span> <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span> <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">string</span> <span class="n">s1</span><span class="p">,</span> <span class="n">s2</span><span class="p">,</span> <span class="n">s3</span><span class="p">,</span> <span class="n">s4</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">s1</span> <span class="o">&gt;&gt;</span> <span class="n">s2</span> <span class="o">&gt;&gt;</span> <span class="n">s3</span> <span class="o">&gt;&gt;</span> <span class="n">s4</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">t</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="nb">false</span><span class="p">);</span>
  <span class="n">chk</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s1</span><span class="p">);</span>
  <span class="n">chk</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s2</span><span class="p">);</span>
  <span class="n">chk</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s3</span><span class="p">);</span>
  <span class="n">chk</span><span class="p">(</span><span class="n">t</span><span class="p">,</span> <span class="n">s4</span><span class="p">);</span>
  <span class="kt">bool</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">t</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">t</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">t</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">t</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">ans</span> <span class="o">?</span> <span class="s">"Yes"</span> <span class="o">:</span> <span class="s">"No"</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>かなり汚いコードだけど、とりあえず提出時刻は 21:04:10。いつも通りな感じ。</p>

<h3 id="c-1">C</h3>

<p><a href="https://atcoder.jp/contests/abc211/submissions/24498688">提出 #24498688 - AtCoder Beginner Contest 211</a></p>

<p>ちょっと悩んで、<code class="language-plaintext highlighter-rouge">chokudai</code>を右から場合の数をすればいいのでは？となった。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;atcoder/all&gt;
#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">atcoder</span><span class="p">;</span>

<span class="cp">#define loop(i, n) for (ll i = 0; i &lt; n; i++)
</span>
<span class="k">typedef</span> <span class="n">modint1000000007</span> <span class="n">mint</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">string</span> <span class="n">s</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">s</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">mint</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">(</span><span class="mi">8</span><span class="p">);</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="p">{</span>
    <span class="k">switch</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">s</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span> <span class="p">{</span>
      <span class="k">case</span> <span class="sc">'c'</span><span class="p">:</span>
        <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="sc">'h'</span><span class="p">:</span>
        <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">];</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="sc">'o'</span><span class="p">:</span>
        <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">];</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="sc">'k'</span><span class="p">:</span>
        <span class="n">a</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="mi">4</span><span class="p">];</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="sc">'u'</span><span class="p">:</span>
        <span class="n">a</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="p">];</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="sc">'d'</span><span class="p">:</span>
        <span class="n">a</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="mi">6</span><span class="p">];</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="sc">'a'</span><span class="p">:</span>
        <span class="n">a</span><span class="p">[</span><span class="mi">6</span><span class="p">]</span> <span class="o">+=</span> <span class="n">a</span><span class="p">[</span><span class="mi">7</span><span class="p">];</span>
        <span class="k">break</span><span class="p">;</span>
      <span class="k">case</span> <span class="sc">'i'</span><span class="p">:</span>
        <span class="n">a</span><span class="p">[</span><span class="mi">7</span><span class="p">]</span><span class="o">++</span><span class="p">;</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="n">val</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>とりあえず場合の数的な考えです。解説見たら DP 使ってました。<del>C 問題で DP とかまじかよ…</del></p>

<h3 id="d">D</h3>

<p><a href="https://atcoder.jp/contests/abc211/submissions/24507635">提出 #24507635 - AtCoder Beginner Contest 211</a></p>

<p>とりあえず DFS したら TLE 出ました。解説だと BFS 使うみたいです。学ばなければ…。</p>

<h2 id="結果と感想">結果と感想</h2>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">めちゃくちゃ微増<br /><br />a01sa01toさんのAtCoder Beginner Contest 211での成績：3293位<br />パフォーマンス：792相当<br />レーティング：774→776 (+2) :)<a href="https://twitter.com/hashtag/AtCoder?src=hash&amp;ref_src=twsrc%5Etfw">#AtCoder</a> <a href="https://twitter.com/hashtag/ABC211?src=hash&amp;ref_src=twsrc%5Etfw">#ABC211</a> <a href="https://t.co/nW9RO0vcNo">https://t.co/nW9RO0vcNo</a></p>&mdash; Asa (@a01sa01to) <a href="https://twitter.com/a01sa01to/status/1418941696168009728?ref_src=twsrc%5Etfw">July 24, 2021</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>はい、かなりの微増です。</p>

<p>次回から 8 問体制になるらしいので、今後のレーティングがどうなってくるんだろう…？という感じですね。</p>]]></content><author><name>Asa</name></author><category term="AtCoder" /><category term="ABC" /><category term="Competitive-Programming" /><summary type="html"><![CDATA[今回は 3 完。D 解けそうだったのに解けず、かなり悔しい。]]></summary></entry><entry><title type="html">ABC210</title><link href="https://a01sa01to.com/blog/2021/07/abc210" rel="alternate" type="text/html" title="ABC210" /><published>2021-07-17T00:00:00+00:00</published><updated>2021-07-17T00:00:00+00:00</updated><id>https://a01sa01to.com/blog/2021/07/abc210</id><content type="html" xml:base="https://a01sa01to.com/blog/2021/07/abc210"><![CDATA[<p>今回は 3 完でした。そしてかなり時間を使ってしまいました。</p>

<h2 id="問題概要">問題概要</h2>

<h3 id="a">A</h3>

<p>キャベツ 1 個$X$円。ただし$A+1$個目以降は 1 個$Y$円（$X \gt Y$）。$N$個買うために必要な金額は？</p>

<h3 id="b">B</h3>

<p>$N$ 枚のカードの山札が文字列 $S$ として、上から順に与えられる。$S[i] = 0$なら「良いカード」で、$S[i] = 1$なら「悪いカード」。<br />
2 人で交互に一番上のカードを引くと、どちらが最初に「悪いカード」を引く？</p>

<h3 id="c">C</h3>

<p>$N$ 個のキャンディが 1 列に並んでいる。$i$番目のキャンディには色$c_i$がついている（$1 \le c_i \le 10^9$）。<br />
連続して並んだ$K$個のキャンディをもらうとき、もらうキャンディに含まれる色の種類数の最大値は？</p>

<h2 id="提出">提出</h2>

<p>全体の提出：<a href="https://atcoder.jp/contests/abc210/submissions?f.User=a01sa01to">a01sa01to の提出 - AtCoder Beginner Contest 210</a></p>

<h3 id="a-1">A</h3>

<p><a href="https://atcoder.jp/contests/abc210/submissions/24282806">提出 #24282806 - AtCoder Beginner Contest 210</a></p>

<p>まず、$ans = X \cdot N$にします。そして、$N \gt A$なら、割引額である (1 個あたりの差額)×(割引対象個数) の $(X-Y)(N-A)$を引きました。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">x</span> <span class="o">&gt;&gt;</span> <span class="n">y</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="n">x</span> <span class="o">*</span> <span class="n">n</span><span class="p">;</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">n</span> <span class="o">&gt;</span> <span class="n">a</span><span class="p">)</span> <span class="p">{</span> <span class="n">ans</span> <span class="o">-=</span> <span class="p">(</span><span class="n">x</span> <span class="o">-</span> <span class="n">y</span><span class="p">)</span> <span class="o">*</span> <span class="p">(</span><span class="n">n</span> <span class="o">-</span> <span class="n">a</span><span class="p">);</span> <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ans</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>いろいろな方法を試してみた結果、サンプルでずれました。<br />
この解法になったとき、一応不安だったのでコンパイル&amp;テストしたので、かなり時間を食ってしまい、提出時刻は 21:04:17。これはまずい。</p>

<h3 id="b-1">B</h3>

<p><a href="https://atcoder.jp/contests/abc210/tasks/abc210_b">B - Bouzu Mekuri</a></p>

<p>$N \le 10^5$なので、そのまま順番に試していって、初めて<code class="language-plaintext highlighter-rouge">1</code>となった時の$i$が奇数か偶数かで判定すれば OK です。<br />
<a href="./abc209">前回</a>の B 問題でもやりましたが、問題文中では商品は 1-indexed ですがプログラム中では 0-indexed なので、「偶数番目」を「i が奇数の時」とする必要があるので注意。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">fixed</span> <span class="o">&lt;&lt;</span> <span class="n">setprecision</span><span class="p">(</span><span class="mi">15</span><span class="p">);</span>
  <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
  <span class="n">string</span> <span class="n">s</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">s</span><span class="p">;</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">s</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">==</span> <span class="sc">'1'</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">?</span> <span class="s">"Aoki"</span> <span class="o">:</span> <span class="s">"Takahashi"</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>A 問題の影響で、提出時刻は 21:06:42。</p>

<h3 id="c-1">C</h3>

<p><a href="https://atcoder.jp/contests/abc210/submissions/24323800">提出 #24323800 - AtCoder Beginner Contest 210</a></p>

<p>これはいろいろと試行錯誤しました。「<code class="language-plaintext highlighter-rouge">vector</code>だと<code class="language-plaintext highlighter-rouge">unique</code>とるとおかしくなるよなー」とか、「<code class="language-plaintext highlighter-rouge">set</code>だと要素が全部消えちゃった！」とか、「毎回チェックしたら<code class="language-plaintext highlighter-rouge">TLE</code>した」とかしました。</p>

<p>結果たどり着いた解法は、以下の通りです。</p>

<ul>
  <li>$c_i$を multiset と set の両方に保存する</li>
  <li>$i \ge K$なら、multiset から$c_{i-k}$を消す。</li>
  <li>消した後、$c_{i-k}$の個数が 0 なら set からも消す。</li>
</ul>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ull</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;</span> <span class="n">ll1d</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">ll</span> <span class="n">n</span><span class="p">,</span> <span class="n">k</span><span class="p">;</span>
  <span class="n">ll</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">k</span><span class="p">;</span>
  <span class="n">ll1d</span> <span class="n">c</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">multiset</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;</span> <span class="n">cont</span><span class="p">;</span>
  <span class="n">set</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;</span> <span class="n">con</span><span class="p">;</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">&gt;=</span> <span class="n">k</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">auto</span> <span class="n">itr</span> <span class="o">=</span> <span class="n">cont</span><span class="p">.</span><span class="n">find</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">k</span><span class="p">]);</span>
      <span class="n">cont</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">itr</span><span class="p">);</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">cont</span><span class="p">.</span><span class="n">count</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">k</span><span class="p">])</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">con</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">i</span> <span class="o">-</span> <span class="n">k</span><span class="p">]);</span>
      <span class="p">}</span>
    <span class="p">}</span>
    <span class="n">cont</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="n">con</span><span class="p">.</span><span class="n">insert</span><span class="p">(</span><span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]);</span>
    <span class="n">ans</span> <span class="o">=</span> <span class="n">max</span><span class="p">(</span><span class="n">ans</span><span class="p">,</span> <span class="p">(</span><span class="n">ll</span><span class="p">)</span> <span class="n">con</span><span class="p">.</span><span class="n">size</span><span class="p">());</span>
  <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ans</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>かなり効率が悪いです。<br />
実は <code class="language-plaintext highlighter-rouge">map</code> の仕様についてあまり知らず、「<code class="language-plaintext highlighter-rouge">map[10000]</code>とか初期化せずにやったらエラー起きそう」とか、「<code class="language-plaintext highlighter-rouge">map[3] = 0</code>にしたのに<code class="language-plaintext highlighter-rouge">map.size()</code>したら消えてない！？」とか言ってました。</p>

<p>AC 解法提出時刻は 22:25:51 です。D 問題は当然 15 分では解けず終いでした。<br /></p>

<h2 id="結果">結果</h2>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">はい、入緑フラグ回収再び。<br /><br />a01sa01toさんのAtCoder Beginner Contest 210での成績：4536位<br />パフォーマンス：548相当<br />レーティング：799→774 (-25) :(<a href="https://twitter.com/hashtag/AtCoder?src=hash&amp;ref_src=twsrc%5Etfw">#AtCoder</a> <a href="https://twitter.com/hashtag/ABC210?src=hash&amp;ref_src=twsrc%5Etfw">#ABC210</a> <a href="https://t.co/Nvl7QGTfTC">https://t.co/Nvl7QGTfTC</a></p>&mdash; Asa (@a01sa01to) <a href="https://twitter.com/a01sa01to/status/1416400436085493763?ref_src=twsrc%5Etfw">July 17, 2021</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>はい、逆ボーダーからのダウンです。<br />
全体的にもっと早く解けていれば D 問題も解けて、入緑したかもしれない。（結果論）</p>

<p>レート計算機で計算してみた結果、次回で入緑するにはパフォが 1000 くらい必要だとわかったので、今回はフラグ建てないことにします。<br />
爆速で C まで解ければいけるかもしれない（フラグ建築）。</p>]]></content><author><name>Asa</name></author><category term="AtCoder" /><category term="ABC" /><category term="Competitive-Programming" /><summary type="html"><![CDATA[今回は 3 完でした。そしてかなり時間を使ってしまいました。]]></summary></entry><entry><title type="html">ABC209</title><link href="https://a01sa01to.com/blog/2021/07/abc209" rel="alternate" type="text/html" title="ABC209" /><published>2021-07-10T00:00:00+00:00</published><updated>2021-07-10T00:00:00+00:00</updated><id>https://a01sa01to.com/blog/2021/07/abc209</id><content type="html" xml:base="https://a01sa01to.com/blog/2021/07/abc209"><![CDATA[<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>入　緑　フ　ラ　グ　回　収　再　び</p>

<h2 id="問題概要">問題概要</h2>

<h3 id="a">A</h3>

<p>A 以上 B 以下の整数の個数</p>

<h3 id="b">B</h3>

<p>$N$個の商品があって、$i$番目の定価は$A_i$円。セール中で$i$が偶数なら 1 円引きで買える。$X$円持っているとき、全部買える？</p>

<h3 id="c">C</h3>

<p>長さ$N$の整数列$C$で、以下の条件をすべて満たす長さ$N$の整数列の個数を、$(10^9)+7$で割った余りを出力</p>

<ul>
  <li>$1 \le A_i \le C_i$</li>
  <li>$A_i \ne A_j (i \lt j)$</li>
</ul>

<h3 id="d">D</h3>

<p>$N$個の街と$N-1$本の道。$i$本目の道は街$a_i$と$b_i$を双方向に結んでいる。なお道の長さは全部同じ。<br />
$Q$個のクエリで$c_i$と$d_i$が与えられる。1 人が$c_i \rightarrow d_i$に、もう 1 人が$d_i \rightarrow c_i$に同じ速さで移動すると、2 人は街で出会うか、道で出会うか。</p>

<h2 id="提出">提出</h2>

<p>いつも通り<a href="https://atcoder.jp/contests/abc209/submissions?f.User=a01sa01to">ここから</a>全部見れます。</p>

<h3 id="a-1">A</h3>

<p><a href="https://atcoder.jp/contests/abc209/submissions/24101976">提出 #24101976 - AtCoder Beginner Contest 209</a></p>

<p>さんすう。$B-A+1$を出力する。ただし、$B \lt A$なら、存在しないので 0 を出力。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
  <span class="kt">int</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="n">b</span> <span class="o">&lt;</span> <span class="n">a</span><span class="p">){</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="mi">0</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">else</span><span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">b</span><span class="o">-</span><span class="n">a</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>提出時刻は 21:01:02 でした。危うく場合分けをせずに提出するところだった…。入力例に感謝。</p>

<h3 id="b-1">B</h3>

<p><a href="https://atcoder.jp/contests/abc209/submissions/24109664">提出 #24109664 - AtCoder Beginner Contest 209</a></p>

<p>制約が$N \le 100$なので、素直に計算して間に合います。なお、問題文中では商品は 1-indexed ですがプログラム中では 0-indexed なので、「偶数番目」を「i が奇数の時」とする必要があるので注意。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="cp">#define loop(i, n) for (ull i = 0; i &lt; n; i++)
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">n</span><span class="p">,</span> <span class="n">x</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">x</span><span class="p">;</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span>
    <span class="kt">int</span> <span class="n">a</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">i</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">1</span><span class="p">){</span> <span class="n">a</span><span class="o">--</span><span class="p">;</span> <span class="p">}</span>
    <span class="n">x</span> <span class="o">-=</span> <span class="n">a</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">if</span> <span class="p">(</span><span class="n">x</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"No"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">else</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Yes"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>提出時刻は 21:03:48。念のためコンパイルしてテストしたので、ちょっと遅れた。</p>

<h3 id="c-1">C</h3>

<p><a href="https://atcoder.jp/contests/abc209/submissions/24119034">提出 #24119034 - AtCoder Beginner Contest 209</a></p>

<p>C 問題で「$(10^9+7)$で割った余りを出力してください」って見たことなかったのでちょっと驚いた。1 回ソートして、$C_i - i$を順番に掛けていけば、「場合の数」的に OK（提出時ちょっと不安だった）。</p>

<p>あと、<a href="https://github.com/atcoder/ac-library">AtCoder Library</a>を使ってみた。これは AtCoder の公式ライブラリで、いろいろ便利なのが入ってる（語彙力）。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;atcoder/all&gt;
#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">using</span> <span class="k">namespace</span> <span class="n">atcoder</span><span class="p">;</span>
<span class="cp">#define loop(i, n) for (ull i = 0; i &lt; n; i++)
#define all(vec) vec.begin(), vec.end()
</span>
<span class="k">typedef</span> <span class="n">modint1000000007</span> <span class="n">mint</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>
  <span class="n">ull1d</span> <span class="n">c</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="p">}</span>
  <span class="n">sort</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">c</span><span class="p">));</span>
  <span class="n">mint</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span><span class="p">)</span> <span class="p">{</span> <span class="n">ans</span> <span class="o">*=</span> <span class="n">c</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">-</span> <span class="n">i</span><span class="p">;</span> <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ans</span><span class="p">.</span><span class="n">val</span><span class="p">()</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>提出時刻は 21:11:00。割と早めに解けた印象。</p>

<h3 id="d-1">D</h3>

<p><code class="language-plaintext highlighter-rouge">○─○─○</code> や <code class="language-plaintext highlighter-rouge">○─○─○─○</code> のようなグラフを描けばわかりますが、道数が偶数なら街で、奇数なら道で出会うことになります。<br />
そこまではよかったんだ…。</p>

<p><a href="https://atcoder.jp/contests/abc209/submissions/24133655">提出 #24133655 - AtCoder Beginner Contest 209</a><br />
最初、全部の点について、点から点の最短道数を数えたんですよね。サンプルなら大丈夫だったんですが、当然<code class="language-plaintext highlighter-rouge">TLE</code>が出ますよね。…かと思ったら<code class="language-plaintext highlighter-rouge">RE</code>ですよ。</p>

<p><a href="https://atcoder.jp/contests/abc209/submissions/24138951">提出 #24138951 - AtCoder Beginner Contest 209</a><br />
その後、「えー RE ってなんで出てるんだーー？？」って悩んだ挙句、「よくよく考えたらある 1 点からの道数数えればよくね？」ってなり、実装すると、計算量的にセーフになりました。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ll</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ull</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">ll</span><span class="o">&gt;</span> <span class="n">ll1d</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">ll1d</span><span class="o">&gt;</span> <span class="n">ll2d</span><span class="p">;</span>
<span class="cp">#define loop(i, n) for (ull i = 0; i &lt; n; i++)
#define all(vec) vec.begin(), vec.end()
</span>
<span class="n">ll2d</span> <span class="n">Graph</span><span class="p">;</span>
<span class="n">ll1d</span> <span class="n">dp</span><span class="p">;</span>
<span class="n">vector</span><span class="o">&lt;</span><span class="kt">bool</span><span class="o">&gt;</span> <span class="n">seen</span><span class="p">;</span>

<span class="kt">void</span> <span class="nf">dfs</span><span class="p">(</span><span class="n">ll</span> <span class="n">i</span><span class="p">,</span> <span class="n">ll</span> <span class="n">c</span><span class="p">)</span> <span class="p">{</span>
  <span class="n">seen</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="nb">true</span><span class="p">;</span>
  <span class="n">c</span><span class="o">++</span><span class="p">;</span>
  <span class="k">for</span> <span class="p">(</span><span class="n">ll</span> <span class="n">x</span> <span class="o">:</span> <span class="n">Graph</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">seen</span><span class="p">[</span><span class="n">x</span><span class="p">])</span> <span class="p">{</span> <span class="k">continue</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="n">dp</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="o">=</span> <span class="n">c</span><span class="p">;</span>
      <span class="n">dfs</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">c</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">()</span> <span class="p">{</span>
  <span class="n">ll</span> <span class="n">n</span><span class="p">,</span> <span class="n">q</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">q</span><span class="p">;</span>
  <span class="n">Graph</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
  <span class="n">dp</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
  <span class="n">seen</span><span class="p">.</span><span class="n">resize</span><span class="p">(</span><span class="n">n</span><span class="p">);</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">n</span> <span class="o">-</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ll</span> <span class="n">_</span><span class="p">,</span> <span class="n">__</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">_</span> <span class="o">&gt;&gt;</span> <span class="n">__</span><span class="p">;</span>
    <span class="n">_</span><span class="o">--</span><span class="p">;</span>
    <span class="n">__</span><span class="o">--</span><span class="p">;</span>
    <span class="n">Graph</span><span class="p">[</span><span class="n">_</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">__</span><span class="p">);</span>
    <span class="n">Graph</span><span class="p">[</span><span class="n">__</span><span class="p">].</span><span class="n">push_back</span><span class="p">(</span><span class="n">_</span><span class="p">);</span>
  <span class="p">}</span>
  <span class="n">dfs</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">);</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">q</span><span class="p">)</span> <span class="p">{</span>
    <span class="n">ll</span> <span class="n">c</span><span class="p">,</span> <span class="n">d</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">c</span> <span class="o">&gt;&gt;</span> <span class="n">d</span><span class="p">;</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">abs</span><span class="p">(</span><span class="n">dp</span><span class="p">[</span><span class="o">--</span><span class="n">c</span><span class="p">]</span> <span class="o">-</span> <span class="n">dp</span><span class="p">[</span><span class="o">--</span><span class="n">d</span><span class="p">])</span> <span class="o">%</span> <span class="mi">2</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Town"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">else</span> <span class="p">{</span>
      <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Road"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>ちなみに dp っていう変数があるのは適当に名付けたからです。多分動的計画法ではない気がします。</p>

<p>ミス解法の提出時刻が 21:53:28 で、AC 解法が 22:19:19 でした。すぐに気づければよかった…。</p>

<h2 id="結果と感想">結果と感想</h2>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">あの......<br /><br />a01sa01toさんのAtCoder Beginner Contest 209での成績：2967位<br />パフォーマンス：869相当<br />レーティング：790→799 (+9) :)<br />Highestを更新しました！<a href="https://twitter.com/hashtag/AtCoder?src=hash&amp;ref_src=twsrc%5Etfw">#AtCoder</a> <a href="https://twitter.com/hashtag/ABC209?src=hash&amp;ref_src=twsrc%5Etfw">#ABC209</a> <a href="https://t.co/gXgoC8UcPF">https://t.co/gXgoC8UcPF</a></p>&mdash; Asa (@a01sa01to) <a href="https://twitter.com/a01sa01to/status/1413860560999829509?ref_src=twsrc%5Etfw">July 10, 2021</a></blockquote>

<p>この通り逆ボーダーです。はい。普通に悲しいです。次回こそ入緑します。</p>

<p>ちなみに E 問題、解き方はすぐにわかりました。でも 15 分で解けるほどの実力がありませんでした。はい。悲しい。</p>]]></content><author><name>Asa</name></author><category term="AtCoder" /><category term="ABC" /><category term="Competitive-Programming" /><summary type="html"><![CDATA[]]></summary></entry><entry><title type="html">ABC208</title><link href="https://a01sa01to.com/blog/2021/07/abc208" rel="alternate" type="text/html" title="ABC208" /><published>2021-07-04T00:00:00+00:00</published><updated>2021-07-04T00:00:00+00:00</updated><id>https://a01sa01to.com/blog/2021/07/abc208</id><content type="html" xml:base="https://a01sa01to.com/blog/2021/07/abc208"><![CDATA[<p>入　緑　フ　ラ　グ　を　回　収　し　ま　し　た</p>

<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">あっ<br />フ　ラ　グ　回　収　し　ま　し　た <a href="https://t.co/X4FPZK9aeQ">https://t.co/X4FPZK9aeQ</a></p>&mdash; Asa (@a01sa01to) <a href="https://twitter.com/a01sa01to/status/1411685503871557635?ref_src=twsrc%5Etfw">July 4, 2021</a></blockquote>

<h2 id="問題概要">問題概要</h2>

<h3 id="a">A</h3>

<p>サイコロを $A$ 回振ったら $B$ になりえる？</p>

<h3 id="b">B</h3>

<p>$1!, 2!, \ldots 10!$ 円硬貨があって、 $P$ 円をおつりなしで支払うとき、最小で何枚？</p>

<h3 id="c">C</h3>

<p>それぞれに国民番号 $a_i$ がついた $N$ 人の国民がいる国。$K$ 個のお菓子を配るとき、$i$ 人目の人は何個お菓子がある？<br />
配り方：残りのお菓子が $N$ 個以上なら、みんなに 1 個ずつ配る。それ以外なら、国民番号が小さい順に 1 個ずつ残りを配る。</p>

<h2 id="提出">提出</h2>

<h3 id="a-1">A</h3>

<p><a href="https://atcoder.jp/contests/abc208/submissions/23949227">提出 #23949227 - AtCoder Beginner Contest 208</a></p>

<p>$A$ 回振ったときの最小値は、全部 1 が出たときの $A$。同じように、最大値は $6A$ 。この範囲内なら全部がなりえるので、この場合に <code class="language-plaintext highlighter-rouge">Yes</code>。それ以外は <code class="language-plaintext highlighter-rouge">No</code>。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
  <span class="kt">int</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">;</span>
  <span class="k">if</span><span class="p">(</span><span class="mi">6</span><span class="o">*</span><span class="n">a</span> <span class="o">&lt;</span> <span class="n">b</span> <span class="o">||</span> <span class="n">a</span> <span class="o">&gt;</span> <span class="n">b</span><span class="p">){</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"No"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">else</span><span class="p">{</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s">"Yes"</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>提出時刻は 21:01:14。A 問題 1 分半以内が安定してきた…！</p>

<h3 id="b-1">B</h3>

<p><a href="https://atcoder.jp/contests/abc208/submissions/23958309">提出 #23958309 - AtCoder Beginner Contest 208</a></p>

<p>$10! = 10 \times 9!$ などとすると、一般に $n!$ 円硬貨は高々 $n$ 枚しか使わなくて OK です。<br />
$10! = 3,628,800$ で、$P \le 10^7$ なので、こちらは 3 枚で済みそう。</p>

<p>そして $i=10$ から順に <code class="language-plaintext highlighter-rouge">ans</code> に $\lfloor \frac{P}{i!} \rfloor$ を足して、$P$ から $i! \times \lfloor \frac{P}{i!} \rfloor$ を引きます。つまり $P$ に $P \mathrm{mod} i!$ を代入します。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ull</span><span class="p">;</span>

<span class="n">ull</span> <span class="nf">fact</span><span class="p">(</span><span class="kt">int</span> <span class="n">a</span><span class="p">){</span>
  <span class="n">ull</span> <span class="n">res</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;=</span><span class="n">a</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">){</span>
    <span class="n">res</span> <span class="o">*=</span> <span class="n">i</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="n">res</span><span class="p">;</span>
<span class="p">}</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
  <span class="n">ull</span> <span class="n">p</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">p</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">ans</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">i</span><span class="o">=</span><span class="mi">10</span><span class="p">;</span><span class="n">i</span><span class="o">&gt;=</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">--</span><span class="p">){</span>
    <span class="n">ull</span> <span class="n">a</span> <span class="o">=</span> <span class="n">fact</span><span class="p">(</span><span class="n">i</span><span class="p">);</span>
    <span class="n">ans</span> <span class="o">+=</span> <span class="n">p</span><span class="o">/</span><span class="n">a</span><span class="p">;</span>
    <span class="n">p</span> <span class="o">%=</span> <span class="n">a</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">ans</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><del>最初 10! = 3,628,800 で、9! = 362,880 で、…を手書きでやろうとしたので、</del> 提出時刻は 21:06:41 です。ただのバカです。</p>

<h3 id="c-1">C</h3>

<p><a href="https://atcoder.jp/contests/abc208/submissions/23964293">提出 #23964293 - AtCoder Beginner Contest 208</a></p>

<p>みんなに分けられる$\lfloor \frac{K}{N} \rfloor$個を最初に分けちゃいます。そして、国民番号を昇順にソートして、余りを順番にあげます。そのあとに $i$ の順でソートして出力します。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define _GLIBCXX_DEBUG
#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ull</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">ull</span><span class="o">&gt;</span> <span class="n">ull1d</span><span class="p">;</span>
<span class="k">typedef</span> <span class="n">vector</span><span class="o">&lt;</span><span class="n">ull1d</span><span class="o">&gt;</span> <span class="n">ull2d</span><span class="p">;</span>
<span class="cp">#define loop(i,n) for(ull i=0;i&lt;n;i++)
#define all(vec) vec.begin(),vec.end()
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
  <span class="n">ull</span> <span class="n">n</span><span class="p">,</span><span class="n">k</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">k</span><span class="p">;</span>
  <span class="n">ull2d</span> <span class="n">v</span><span class="p">(</span><span class="n">n</span><span class="p">,</span> <span class="n">ull1d</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">n</span><span class="p">){</span>
    <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">i</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">];</span>
    <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="n">k</span><span class="o">/</span><span class="n">n</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">sort</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">v</span><span class="p">),[](</span><span class="k">auto</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">){</span> <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">[</span><span class="mi">1</span><span class="p">];</span> <span class="p">});</span>
  <span class="n">k</span> <span class="o">%=</span> <span class="n">n</span><span class="p">;</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">k</span><span class="p">){</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span><span class="o">++</span><span class="p">;</span> <span class="p">}</span>
  <span class="n">sort</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">v</span><span class="p">),[](</span><span class="k">auto</span><span class="o">&amp;</span> <span class="n">a</span><span class="p">,</span> <span class="k">auto</span><span class="o">&amp;</span> <span class="n">b</span><span class="p">){</span> <span class="k">return</span> <span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;</span> <span class="n">b</span><span class="p">[</span><span class="mi">0</span><span class="p">];</span> <span class="p">});</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">n</span><span class="p">){</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">v</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">2</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>上のコードでは、$v[i][0]$ は $i$ の番号、 $v[i][1]$ は国民番号、$v[i][2]$はもらったお菓子の個数を入れています。</p>

<p>提出時刻は 21:13:12。ちなみに実行時間は 1082ms でした。<br />
制約が倍だったら間に合わなかったかも…？あぶない…</p>

<h2 id="結果と感想">結果と感想</h2>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr"><a href="https://twitter.com/hashtag/ABC208?src=hash&amp;ref_src=twsrc%5Etfw">#ABC208</a> C終わったらF見て、「あっこれ授業でやったところだ！」ってなって結局解けず3完。<br />A: a&gt;b か 6a &lt; b なら No<br />B: i=10から1まで、ans += p/(i!) で p%=(i!)<br />C: まずみんなにk/n個与えて、マイナンバー順にソートして、余りを順番に与えて、i順にソートして、出力（実行時間1082ms）</p>&mdash; Asa (@a01sa01to) <a href="https://twitter.com/a01sa01to/status/1411681817522933762?ref_src=twsrc%5Etfw">July 4, 2021</a></blockquote>
<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">入緑が近い...！<br /><br />a01sa01toさんのAtCoder Beginner Contest 208での成績：2122位<br />パフォーマンス：1062相当<br />レーティング：753→790 (+37) :)<br />Highestを更新しました！<a href="https://twitter.com/hashtag/AtCoder?src=hash&amp;ref_src=twsrc%5Etfw">#AtCoder</a> <a href="https://twitter.com/hashtag/ABC208?src=hash&amp;ref_src=twsrc%5Etfw">#ABC208</a> <a href="https://t.co/xthetSxDkx">https://t.co/xthetSxDkx</a></p>&mdash; Asa (@a01sa01to) <a href="https://twitter.com/a01sa01to/status/1411685423269564419?ref_src=twsrc%5Etfw">July 4, 2021</a></blockquote>

<p>今回のフラグ回収要因は、F 問題を見て「あっこれ授業でやったところだ！」ってなったせいです。解説見たらまったくやっていないところでした。つらい。</p>

<p>そして、またフラグを建てました。あと 10 なので、まあ次回もこのペースで解ければ大丈夫な気がしますが。</p>]]></content><author><name>Asa</name></author><category term="AtCoder" /><category term="ABC" /><category term="Competitive-Programming" /><summary type="html"><![CDATA[入　緑　フ　ラ　グ　を　回　収　し　ま　し　た]]></summary></entry><entry><title type="html">Windows 11 がやってきた！！</title><link href="https://a01sa01to.com/blog/2021/06/windows11" rel="alternate" type="text/html" title="Windows 11 がやってきた！！" /><published>2021-06-29T00:00:00+00:00</published><updated>2021-06-29T00:00:00+00:00</updated><id>https://a01sa01to.com/blog/2021/06/windows11</id><content type="html" xml:base="https://a01sa01to.com/blog/2021/06/windows11"><![CDATA[<p>はい、題名の通りです。Windows Insider の特権です。<br />
以下のツイートのように、「Windows 11 を実行できない」と言われたコンピュータで試したらできちゃいました。てへぺろ</p>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">PC正常性チェックアプリ（なおWindows11上で実行） <a href="https://t.co/pv9d147DlQ">pic.twitter.com/pv9d147DlQ</a></p>&mdash; Asa (@a01sa01to) <a href="https://twitter.com/a01sa01to/status/1409752298977329153?ref_src=twsrc%5Etfw">June 29, 2021</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>てっきり実行できずに Windows10 のクリーンインストールを覚悟していたので、インストールできてよかった。</p>

<h2 id="インストール方法">インストール方法</h2>

<ol>
  <li>Windows Insider になる</li>
  <li>チャネルを「Dev チャネル」にする</li>
  <li>Windows Update を開いて、更新をチェックする</li>
  <li>更新プログラム「Windows 11 Insider Preview」をインストール</li>
  <li>1 時間くらい待つ（個体差あり）</li>
</ol>

<p>以上です。</p>

<p>なお、インストールは<strong>自己責任</strong>でお願いします。私の場合は問題なくアップデートされましたが、データが消える可能性もあるので、<strong>必ずバックアップを</strong>とってください。</p>

<h2 id="感想">感想</h2>

<p>こちらの Moments にまとめてあります。</p>

<blockquote class="twitter-tweet"><p lang="und" dir="ltr"><a href="https://t.co/yzjgaXZ7Xf">https://t.co/yzjgaXZ7Xf</a></p>&mdash; Asa (@a01sa01to) <a href="https://twitter.com/a01sa01to/status/1409773296564932626?ref_src=twsrc%5Etfw">June 29, 2021</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>ウィンドウが角丸になったり、エクスプローラーのファイルのアイコンが変わったり、ウィンドウの表示/最小化にアニメーションがついたり、…など、UI は大幅に刷新されましたが、今のところは機能追加はあまりないような印象です。今後のアップデートに期待です。</p>]]></content><author><name>Asa</name></author><category term="Windows" /><category term="Windows11" /><summary type="html"><![CDATA[はい、題名の通りです。Windows Insider の特権です。 以下のツイートのように、「Windows 11 を実行できない」と言われたコンピュータで試したらできちゃいました。てへぺろ]]></summary></entry><entry><title type="html">ABC207</title><link href="https://a01sa01to.com/blog/2021/06/abc207" rel="alternate" type="text/html" title="ABC207" /><published>2021-06-26T00:00:00+00:00</published><updated>2021-06-19T00:00:00+00:00</updated><id>https://a01sa01to.com/blog/2021/06/abc207</id><content type="html" xml:base="https://a01sa01to.com/blog/2021/06/abc207"><![CDATA[<p>今回は 3 完です。概要は以下のツイートの通りです。（双括型）</p>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr"><a href="https://twitter.com/hashtag/ABC207?src=hash&amp;ref_src=twsrc%5Etfw">#ABC207</a> 3完...<br />A: a + b + c - min(a,b,c)<br />B: a + nb ≦ d*nc を解いて、ceil(a/(cd-b)) を出力<br />C: doubleで読み取って、左端が開いてるなら+0.1、右端が開いてるなら-0.1して、(a[i]左端 ≦ a[j]右端) かつ (a[j]左端 ≦ a[i]右端) の組を全部出力<br />D: 移動するx,yと回転するθ[°]を全探索でTLEした...</p>&mdash; Asa (@a01sa01to) <a href="https://twitter.com/a01sa01to/status/1408782347667853322?ref_src=twsrc%5Etfw">June 26, 2021</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<h2 id="問題概要">問題概要</h2>

<h3 id="a">A</h3>

<p>3 枚のカード（$A,B,C$）のうち 2 枚をとったら、その和の最大値は？</p>

<h3 id="b">B</h3>

<p>最初、水色ボールが $A$ 個入っている。水色 $B$ 個と赤色 $C$ 個を追加する操作を好きなだけ繰り返して水色の個数が赤色の個数の $D$ 倍以下にするとき、手数の最小値はいくら？無理なら <code class="language-plaintext highlighter-rouge">-1</code>。</p>

<h3 id="c">C</h3>

<p>$N$ 個の区間。$1 \le i \lt j \le N$ な 区間 $i$ と 区間 $j$ が共通区間を持つのはいくつ？<br />
ただし、</p>

<ul>
  <li>$t_i = 1$ なら、 区間 $i$ は $[l_i,r_i]$ （閉区間）</li>
  <li>$t_i = 2$ なら、 区間 $i$ は $[l_i,r_i)$ （半開区間）</li>
  <li>$t_i = 3$ なら、 区間 $i$ は $(l_i,r_i]$ （半開区間）</li>
  <li>$t_i = 4$ なら、 区間 $i$ は $(l_i,r_i)$ （開区間）</li>
</ul>

<h2 id="提出">提出</h2>

<p><a href="https://atcoder.jp/contests/abc207/submissions?f.User=a01sa01to">ここから</a> 全体の提出結果がわかります。</p>

<h3 id="a-1">A</h3>

<p><a href="https://atcoder.jp/contests/abc207/submissions/23756680">提出 #23756680 - AtCoder Beginner Contest 207</a></p>

<p>最大値を求めるので、総和から最小値を引くだけ。<br />
式にすると、 $a+b+c-\max (a,b,c)$</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define _GLIBCXX_DEBUG
#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
  <span class="kt">int</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">b</span> <span class="o">&gt;&gt;</span> <span class="n">c</span><span class="p">;</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="p">(</span><span class="n">a</span><span class="o">+</span><span class="n">b</span><span class="o">+</span><span class="n">c</span> <span class="o">-</span> <span class="n">min</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">min</span><span class="p">(</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">)))</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p><del>JS とかだと <code class="language-plaintext highlighter-rouge">min(a,b,c)</code> でできるだけど、C++だと <code class="language-plaintext highlighter-rouge">min(a,min(b,c)))</code> でやるのがちょっと面倒。</del> <br />
<code class="language-plaintext highlighter-rouge">min({a,b,c})</code> でできるみたい。知れてよかった。</p>

<p>提出時刻は 21:01:25。だけど机の周りになぜか虫が群がっていて後処理で 50 秒くらい食ったので、実質 30 秒()。</p>

<h3 id="b-1">B</h3>

<p><a href="https://atcoder.jp/contests/abc207/submissions/23762351">提出 #23762351 - AtCoder Beginner Contest 207</a></p>

<p>N を操作回数として、不等式を立ててみると、$A+BN \le DCN \rightarrow A \le N(DC - B) \rightarrow \frac{A}{DC-B} \le N$ になるので、最小値は $\mathrm{ceil}(\frac{A}{DC-B})$ になります。<br />
$DC-B \lt 0$ となると、$N \lt 0$ になってしまうので、この場合 <code class="language-plaintext highlighter-rouge">-1</code> を出力します。<br />
ちなみに、$DC-B = 0$ となる場合、不等式に代入してみると $A \ne 0$ となるので、$DC-B = 0$ の場合は考えなくて良いと思います。（提出後の考察）</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define _GLIBCXX_DEBUG
#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>

<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
  <span class="kt">double</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">,</span><span class="n">c</span><span class="p">,</span><span class="n">d</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">a</span> <span class="o">&gt;&gt;</span> <span class="n">b</span> <span class="o">&gt;&gt;</span> <span class="n">c</span> <span class="o">&gt;&gt;</span> <span class="n">d</span><span class="p">;</span>
  <span class="kt">int</span> <span class="n">x</span> <span class="o">=</span> <span class="n">ceil</span><span class="p">(</span><span class="n">a</span><span class="o">/</span><span class="p">(</span><span class="n">d</span><span class="o">*</span><span class="n">c</span><span class="o">-</span><span class="n">b</span><span class="p">));</span>
  <span class="k">if</span><span class="p">(</span><span class="n">x</span><span class="o">&lt;</span><span class="mi">0</span><span class="p">){</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="o">-</span><span class="mi">1</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">else</span><span class="p">{</span> <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">x</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span> <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>提出時刻は 21:06:15。脳内で考えた後、ノートに書き直したので少し時間がかかってしまった…。</p>

<h3 id="c-1">C</h3>

<p><a href="https://atcoder.jp/contests/abc207/submissions/23776113">提出 #23776113 - AtCoder Beginner Contest 207</a></p>

<p>$l_i, r_i$ は整数なので、端点が含まれないなら $\pm 0.1$ してあげて全部閉区間にしちゃいました()。きちんと double 型で入力する必要がありますね。<br />
そして、$l_i \le r_j$ かつ $l_j \le r_i$ ならば大丈夫です。<br />
（解説では $\max(l_i, l_j) \le \min(r_i, r_j)$ とやっていました。なるほど。）</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define _GLIBCXX_DEBUG
#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="k">typedef</span> <span class="kt">unsigned</span> <span class="kt">long</span> <span class="kt">long</span> <span class="n">ull</span><span class="p">;</span>
<span class="cp">#define loop(i,n) for(ull i=0;i&lt;n;i++)
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
  <span class="kt">int</span> <span class="n">n</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;&gt;</span> <span class="n">a</span><span class="p">(</span><span class="n">n</span><span class="p">,</span><span class="n">vector</span><span class="o">&lt;</span><span class="kt">double</span><span class="o">&gt;</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">));</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">n</span><span class="p">){</span>
    <span class="kt">double</span> <span class="n">t</span><span class="p">,</span><span class="n">l</span><span class="p">,</span><span class="n">r</span><span class="p">;</span>
    <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">t</span> <span class="o">&gt;&gt;</span> <span class="n">l</span> <span class="o">&gt;&gt;</span> <span class="n">r</span><span class="p">;</span>
    <span class="k">if</span><span class="p">(</span><span class="n">t</span> <span class="o">==</span> <span class="mi">2</span><span class="p">){</span> <span class="n">r</span><span class="o">-=</span><span class="mf">0.1</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">t</span> <span class="o">==</span> <span class="mi">3</span><span class="p">){</span> <span class="n">l</span><span class="o">+=</span><span class="mf">0.1</span><span class="p">;</span> <span class="p">}</span>
    <span class="k">if</span><span class="p">(</span><span class="n">t</span> <span class="o">==</span> <span class="mi">4</span><span class="p">){</span> <span class="n">l</span><span class="o">+=</span><span class="mf">0.1</span><span class="p">;</span> <span class="n">r</span><span class="o">-=</span><span class="mf">0.1</span><span class="p">;</span> <span class="p">}</span>
    <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">l</span><span class="p">;</span>
    <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">r</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="n">ull</span> <span class="n">c</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="n">ull</span> <span class="n">i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span><span class="n">i</span><span class="o">&lt;</span><span class="n">n</span><span class="o">-</span><span class="mi">1</span><span class="p">;</span><span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="k">for</span><span class="p">(</span><span class="n">ull</span> <span class="n">j</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">n</span><span class="p">;</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">1</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="n">a</span><span class="p">[</span><span class="n">j</span><span class="p">][</span><span class="mi">0</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">][</span><span class="mi">1</span><span class="p">]){</span>
      <span class="n">c</span><span class="o">++</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">c</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>提出時刻は 21:24:57。最初 int 型で入力しててあれ？ってなってました。</p>

<h2 id="結果と感想">結果と感想</h2>

<blockquote class="twitter-tweet"><p lang="ja" dir="ltr">おー、水ぱふぉだーーー<br /><br />a01sa01toさんのAtCoder Beginner Contest 207での成績：1337位<br />パフォーマンス：1309相当<br />レーティング：663→753 (+90) :)<br />Highestを更新しました！<a href="https://twitter.com/hashtag/AtCoder?src=hash&amp;ref_src=twsrc%5Etfw">#AtCoder</a> <a href="https://twitter.com/hashtag/ABC207?src=hash&amp;ref_src=twsrc%5Etfw">#ABC207</a> <a href="https://t.co/2m1kfpXzEn">https://t.co/2m1kfpXzEn</a></p>&mdash; Asa (@a01sa01to) <a href="https://twitter.com/a01sa01to/status/1408786534963105802?ref_src=twsrc%5Etfw">June 26, 2021</a></blockquote>
<script async="" src="https://platform.twitter.com/widgets.js" charset="utf-8"></script>

<p>はい、水パフォでした。やった。今回は比較的難しかった…？<br />
次も同じくらいのパフォーマンスで緑勢になれるかも…！？</p>]]></content><author><name>Asa</name></author><category term="AtCoder" /><category term="ABC" /><category term="Competitive-Programming" /><summary type="html"><![CDATA[今回は 3 完です。概要は以下のツイートの通りです。（双括型）]]></summary></entry><entry><title type="html">AHC004</title><link href="https://a01sa01to.com/blog/2021/06/ahc004" rel="alternate" type="text/html" title="AHC004" /><published>2021-06-26T00:00:00+00:00</published><updated>2021-06-26T00:00:00+00:00</updated><id>https://a01sa01to.com/blog/2021/06/ahc004</id><content type="html" xml:base="https://a01sa01to.com/blog/2021/06/ahc004"><![CDATA[<p>AHC004 の振り返りです。今回は全然思いつかなかったのでかなり悪いです。はい。</p>

<h2 id="問題概要">問題概要</h2>

<p><code class="language-plaintext highlighter-rouge">A</code>, <code class="language-plaintext highlighter-rouge">B</code>, …, <code class="language-plaintext highlighter-rouge">H</code> からなる $N \times N$ 行列の部分列が $M$ 個与えられるので、これらの部分列をなるべく多く含む、<code class="language-plaintext highlighter-rouge">A</code>, <code class="language-plaintext highlighter-rouge">B</code>, …, <code class="language-plaintext highlighter-rouge">H</code>, <code class="language-plaintext highlighter-rouge">.</code> からなる行列を求める。<br />
ただし、<code class="language-plaintext highlighter-rouge">.</code> は空白を意味する。部分文字列の方向は、縦方向でも横方向でも可。また、左端と右端、上端と下端はそれぞれつながっている。</p>

<p>得点は、$c=(\text{部分列となっている個数})$とすると、$\mathrm{round}({c \over M} \times 10^8)$ 。（$c = M$ の例外があるけど、それは出せなかったので。）</p>

<h2 id="解く">解く</h2>

<h3 id="まずは-text-でお遊び">まずは Text でお遊び</h3>

<p><a href="https://atcoder.jp/contests/ahc004/submissions/23743171">提出 #23743171 - AtCoder Heuristic Contest 004</a></p>

<p>$N=20$ と定まっていたので、全部空白を出力します。</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>....................
....................
....................
....................
....................
....................
....................
....................
....................
....................
....................
....................
....................
....................
....................
....................
....................
....................
....................
....................
</code></pre></div></div>

<p>はい、$c=0$ なので当然 0 点です。</p>

<h3 id="入力順に出力する">入力順に出力する</h3>

<p><a href="https://atcoder.jp/contests/ahc004/submissions/23742286">提出 #23742286 - AtCoder Heuristic Contest 004</a></p>

<p>入力順に出力して、1 行の長さが 20 文字を超えそうなら <code class="language-plaintext highlighter-rouge">.</code> を残りの文字数分出力した後、出力前に改行します。合計行数が 20 行になったら終わりです。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define _GLIBCXX_DEBUG
#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="cp">#define loop(i,n) for(int i=0;i&lt;n;i++)
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
  <span class="kt">int</span> <span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">m</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">m</span><span class="p">){</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="p">}</span>
  <span class="n">string</span> <span class="n">prev</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">m</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="n">prev</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">){</span>
      <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="n">prev</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
      <span class="n">loop</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">l</span><span class="p">){</span> <span class="n">prev</span> <span class="o">+=</span> <span class="s">"."</span><span class="p">;</span> <span class="p">}</span>
      <span class="n">a</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">prev</span><span class="p">);</span>
      <span class="n">prev</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">prev</span> <span class="o">+=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">n</span><span class="p">){</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>2205949054 点です。得点率は 11%。</p>

<h3 id="行末まで文字を埋める">行末まで文字を埋める</h3>

<p><a href="https://atcoder.jp/contests/ahc004/submissions/23742672">提出 #23742672 - AtCoder Heuristic Contest 004</a></p>

<p>先ほどは、1 行が 20 文字を超えそうなら <code class="language-plaintext highlighter-rouge">.</code> を残り文字数分出力しました。
ここでは、空白ではなく残り文字数分の文字列を探し、出力します。<br />
また、ソートすることで、文字数の多いものから出力するようにします（大は小を兼ねる的な）。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define _GLIBCXX_DEBUG
#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="cp">#define loop(i,n) for(int i=0;i&lt;n;i++)
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
  <span class="kt">int</span> <span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">m</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">m</span><span class="p">){</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="p">}</span>
  <span class="n">sort</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">b</span><span class="p">),[](</span><span class="n">string</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">){</span> <span class="k">return</span> <span class="n">x</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="p">});</span>
  <span class="n">string</span> <span class="n">prev</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">b</span><span class="p">.</span><span class="n">size</span><span class="p">()){</span>
    <span class="k">if</span><span class="p">(</span><span class="n">prev</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">){</span>
      <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="n">prev</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
      <span class="k">auto</span> <span class="n">itr</span> <span class="o">=</span> <span class="n">find_if</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">b</span><span class="p">),[</span><span class="n">l</span><span class="p">](</span><span class="n">string</span> <span class="n">x</span><span class="p">){</span> <span class="k">return</span> <span class="n">x</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="n">l</span><span class="p">;</span> <span class="p">});</span>
      <span class="k">if</span><span class="p">(</span><span class="n">itr</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">end</span><span class="p">()){</span>
        <span class="n">loop</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">l</span><span class="p">){</span> <span class="n">prev</span> <span class="o">+=</span> <span class="s">"."</span><span class="p">;</span> <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">else</span><span class="p">{</span>
        <span class="n">prev</span> <span class="o">+=</span> <span class="o">*</span><span class="n">itr</span><span class="p">;</span>
        <span class="n">b</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">itr</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="n">a</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">prev</span><span class="p">);</span>
      <span class="n">prev</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">prev</span> <span class="o">+=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">n</span><span class="p">){</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>2770894529 点です。</p>

<h3 id="すでに大は小を兼ねているものを除外する">すでに「大は小を兼ね」ているものを除外する</h3>

<p><a href="https://atcoder.jp/contests/ahc004/submissions/23742989">提出 #23742989 - AtCoder Heuristic Contest 004</a></p>

<p>例えば、$s_1$: <code class="language-plaintext highlighter-rouge">ABC</code> は $s_2$: <code class="language-plaintext highlighter-rouge">ABCDEF</code> の部分文字列になっているので、$s_1$を削除します。</p>

<div class="language-cpp highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="cp">#define _GLIBCXX_DEBUG
#include &lt;bits/stdc++.h&gt;
</span><span class="k">using</span> <span class="k">namespace</span> <span class="n">std</span><span class="p">;</span>
<span class="cp">#define loop(i,n) for(ull i=0;i&lt;n;i++)
</span>
<span class="kt">int</span> <span class="nf">main</span><span class="p">(){</span>
  <span class="kt">int</span> <span class="n">n</span><span class="p">,</span><span class="n">m</span><span class="p">;</span>
  <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">n</span> <span class="o">&gt;&gt;</span> <span class="n">m</span><span class="p">;</span>
  <span class="n">vector</span><span class="o">&lt;</span><span class="n">string</span><span class="o">&gt;</span> <span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">(</span><span class="n">m</span><span class="p">);</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">m</span><span class="p">){</span> <span class="n">cin</span> <span class="o">&gt;&gt;</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span> <span class="p">}</span>
  <span class="n">sort</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">b</span><span class="p">),[](</span><span class="n">string</span> <span class="o">&amp;</span><span class="n">x</span><span class="p">,</span> <span class="n">string</span> <span class="o">&amp;</span><span class="n">y</span><span class="p">){</span> <span class="k">return</span> <span class="n">x</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">y</span><span class="p">.</span><span class="n">size</span><span class="p">();</span> <span class="p">});</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">b</span><span class="p">.</span><span class="n">size</span><span class="p">())</span> <span class="k">for</span><span class="p">(</span><span class="kt">int</span> <span class="n">j</span><span class="o">=</span><span class="n">i</span><span class="o">+</span><span class="mi">1</span><span class="p">;</span><span class="n">j</span><span class="o">&lt;</span><span class="n">b</span><span class="p">.</span><span class="n">size</span><span class="p">();</span><span class="n">j</span><span class="o">++</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">find</span><span class="p">(</span><span class="n">b</span><span class="p">[</span><span class="n">j</span><span class="p">])</span> <span class="o">!=</span> <span class="n">string</span><span class="o">::</span><span class="n">npos</span><span class="p">){</span>
      <span class="n">b</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">b</span><span class="p">.</span><span class="n">begin</span><span class="p">()</span><span class="o">+</span><span class="n">j</span><span class="p">);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="n">string</span> <span class="n">prev</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">b</span><span class="p">.</span><span class="n">size</span><span class="p">()){</span>
    <span class="k">if</span><span class="p">(</span><span class="n">prev</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">+</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">()</span> <span class="o">&gt;</span> <span class="n">n</span><span class="p">){</span>
      <span class="kt">int</span> <span class="n">l</span> <span class="o">=</span> <span class="n">n</span><span class="o">-</span><span class="n">prev</span><span class="p">.</span><span class="n">size</span><span class="p">();</span>
      <span class="k">auto</span> <span class="n">itr</span> <span class="o">=</span> <span class="n">find_if</span><span class="p">(</span><span class="n">all</span><span class="p">(</span><span class="n">b</span><span class="p">),[</span><span class="n">l</span><span class="p">](</span><span class="n">string</span> <span class="n">x</span><span class="p">){</span> <span class="k">return</span> <span class="n">x</span><span class="p">.</span><span class="n">size</span><span class="p">()</span> <span class="o">==</span> <span class="n">l</span><span class="p">;</span> <span class="p">});</span>
      <span class="k">if</span><span class="p">(</span><span class="n">itr</span> <span class="o">==</span> <span class="n">b</span><span class="p">.</span><span class="n">end</span><span class="p">()){</span>
        <span class="n">loop</span><span class="p">(</span><span class="n">j</span><span class="p">,</span><span class="n">l</span><span class="p">){</span> <span class="n">prev</span> <span class="o">+=</span> <span class="s">"."</span><span class="p">;</span> <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">else</span><span class="p">{</span>
        <span class="n">prev</span> <span class="o">+=</span> <span class="o">*</span><span class="n">itr</span><span class="p">;</span>
        <span class="n">b</span><span class="p">.</span><span class="n">erase</span><span class="p">(</span><span class="n">itr</span><span class="p">);</span>
      <span class="p">}</span>
      <span class="n">a</span><span class="p">.</span><span class="n">push_back</span><span class="p">(</span><span class="n">prev</span><span class="p">);</span>
      <span class="n">prev</span> <span class="o">=</span> <span class="s">""</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="n">prev</span> <span class="o">+=</span> <span class="n">b</span><span class="p">[</span><span class="n">i</span><span class="p">];</span>
  <span class="p">}</span>
  <span class="n">loop</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">n</span><span class="p">){</span>
    <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">a</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
  <span class="p">}</span>
  <span class="k">return</span> <span class="mi">0</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div></div>

<p>2759836466 点。2 千万点下がりました。（だって $s_2$ が出力されているとも限らないもん…）</p>

<h3 id="javascript-で同じようなコードを試すと">JavaScript で同じ「ような」コードを試すと…</h3>

<p><a href="https://atcoder.jp/contests/ahc004/submissions/23749258">提出 #23749258 - AtCoder Heuristic Contest 004</a></p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">;(</span><span class="kd">function</span> <span class="p">(</span><span class="nx">_____</span><span class="p">)</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">input</span> <span class="o">=</span> <span class="nx">_____</span><span class="p">.</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">)</span>
  <span class="kd">const</span> <span class="p">[</span><span class="nx">n</span><span class="p">,</span> <span class="nx">m</span><span class="p">]</span> <span class="o">=</span> <span class="nx">input</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">split</span><span class="p">(</span><span class="dl">'</span><span class="s1"> </span><span class="dl">'</span><span class="p">).</span><span class="nx">map</span><span class="p">((</span><span class="nx">_</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nb">Number</span><span class="p">(</span><span class="nx">_</span><span class="p">))</span>
  <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">[],</span>
    <span class="nx">b</span> <span class="o">=</span> <span class="nx">input</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
  <span class="nx">b</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">sort</span><span class="p">((</span><span class="nx">x</span><span class="p">,</span> <span class="nx">y</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">y</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span> <span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">m</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span>
    <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">j</span> <span class="o">=</span> <span class="nx">i</span> <span class="o">+</span> <span class="mi">1</span><span class="p">;</span> <span class="nx">j</span> <span class="o">&lt;</span> <span class="nx">m</span><span class="p">;</span> <span class="nx">j</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span> <span class="o">&amp;&amp;</span> <span class="nx">b</span><span class="p">[</span><span class="nx">j</span><span class="p">])</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">includes</span><span class="p">(</span><span class="nx">b</span><span class="p">[</span><span class="nx">j</span><span class="p">]))</span> <span class="p">{</span>
          <span class="nx">b</span><span class="p">.</span><span class="nx">splice</span><span class="p">(</span><span class="nx">j</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="dl">''</span><span class="p">)</span>
        <span class="p">}</span>
      <span class="p">}</span>
    <span class="p">}</span>
  <span class="kd">let</span> <span class="nx">prev</span> <span class="o">=</span> <span class="dl">''</span>
  <span class="k">for</span> <span class="p">(</span><span class="kd">let</span> <span class="nx">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="nx">i</span> <span class="o">&lt;</span> <span class="nx">b</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span> <span class="nx">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="nx">prev</span><span class="p">.</span><span class="nx">length</span> <span class="o">+</span> <span class="nx">b</span><span class="p">[</span><span class="nx">i</span><span class="p">].</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="nx">n</span><span class="p">)</span> <span class="p">{</span>
      <span class="kd">const</span> <span class="nx">l</span> <span class="o">=</span> <span class="nx">n</span> <span class="o">-</span> <span class="nx">prev</span><span class="p">.</span><span class="nx">length</span>
      <span class="kd">const</span> <span class="nx">itr</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">_</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">_</span><span class="p">.</span><span class="nx">length</span> <span class="o">===</span> <span class="nx">l</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">itr</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">prev</span> <span class="o">+=</span> <span class="nx">itr</span>
        <span class="nx">b</span> <span class="o">=</span> <span class="nx">b</span><span class="p">.</span><span class="nx">filter</span><span class="p">((</span><span class="nx">_</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">_</span> <span class="o">!==</span> <span class="nx">itr</span><span class="p">)</span>
      <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
        <span class="nx">prev</span> <span class="o">+=</span> <span class="dl">'</span><span class="s1">.</span><span class="dl">'</span><span class="p">.</span><span class="nx">repeat</span><span class="p">(</span><span class="nx">l</span><span class="p">)</span>
      <span class="p">}</span>
      <span class="nx">a</span><span class="p">.</span><span class="nx">push</span><span class="p">(</span><span class="nx">prev</span><span class="p">)</span>
      <span class="nx">prev</span> <span class="o">=</span> <span class="dl">''</span>
    <span class="p">}</span>
    <span class="nx">prev</span> <span class="o">+=</span> <span class="nx">b</span><span class="p">[</span><span class="nx">i</span><span class="p">]</span>
  <span class="p">}</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">.</span><span class="nx">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">20</span><span class="p">).</span><span class="nx">join</span><span class="p">(</span><span class="dl">'</span><span class="se">\n</span><span class="dl">'</span><span class="p">))</span>
<span class="p">})(</span><span class="nx">require</span><span class="p">(</span><span class="dl">'</span><span class="s1">fs</span><span class="dl">'</span><span class="p">).</span><span class="nx">readFileSync</span><span class="p">(</span><span class="dl">'</span><span class="s1">/dev/stdin</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">utf8</span><span class="dl">'</span><span class="p">))</span>
</code></pre></div></div>

<p>2781409412 点。なぜか上がった…（たぶん「削除」ではなく「空白で置き換え」をしたから…？）</p>

<p>はい、これで以上です。</p>

<h2 id="結果">結果</h2>

<p>システムテストはないようで、上の最高得点（2,781,409,412 点）が順位にかかわるようです。順位は 359/604 位。</p>

<p>この記事を書いている途中に気づいた括弧書き、コンテスト中に気づけばもっといったのかも…？といった感じです。<br />
ただ、最高点の人でも得点率 36%+ちょっとなので、4 割とるのも難しいっぽいです。</p>

<p><a href="https://atcoder.jp/contests/ahc004/submissions?f.User=a01sa01to">すべての提出 - AtCoder Heuristic Contest 004</a> で見れますが、終了後もいくつか試してみてます。<br />
今後追記するかもしれません。</p>]]></content><author><name>Asa</name></author><category term="AtCoder" /><category term="AHC" /><category term="Competitive-Programming" /><summary type="html"><![CDATA[AHC004 の振り返りです。今回は全然思いつかなかったのでかなり悪いです。はい。]]></summary></entry><entry><title type="html">GASでライブラリを使わずにTwitterクライアントを作成する</title><link href="https://a01sa01to.com/blog/2021/06/gas-twitter" rel="alternate" type="text/html" title="GASでライブラリを使わずにTwitterクライアントを作成する" /><published>2021-06-25T00:00:00+00:00</published><updated>2021-06-25T00:00:00+00:00</updated><id>https://a01sa01to.com/blog/2021/06/gas-twitter</id><content type="html" xml:base="https://a01sa01to.com/blog/2021/06/gas-twitter"><![CDATA[<p>GAS (Google Apps Script) から Twitter に投稿したいけど、検索してみるとライブラリを使うものだらけで、しかも同じライブラリ…。<br />
でもそれだと自分のやりたいことは達成できない…ということでいろいろ試行錯誤した結果を書きます。</p>

<h2 id="やりたいこと">やりたいこと</h2>

<ul>
  <li>Access Token と Secret はもう既に持っているので、認証画面を通さずに投稿したい</li>
  <li>ライブラリは使いたくない（というか上の条件を満たせるものがない…？）</li>
</ul>

<p>この 2 つです。<br />
調べて出てくるものでは、API Key と API Secret を設定しておいて、認証画面に飛ばす、という処理がありました。<br />
しかしもうすでに認証で得られる Access Token と Access Token Secret は取得していたため、この処理が必要なかったのです。<br />
（詳しく見ていなかったのでわかりませんが、この処理は 1 回限りなのかもしれません…）</p>

<h2 id="実装">実装</h2>

<p>主に、<a href="https://syncer.jp/Web/API/Twitter/REST_API/#section-5">Twitter REST API の使い方</a> と <a href="https://developer.twitter.com/en/docs/twitter-api/v1/tweets/post-and-engage/api-reference/post-statuses-update">POST statuses/update | Docs | Twitter Developer Platform</a> を参考に実装しました。</p>

<div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">createParams</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="nx">separator</span><span class="p">){</span>
  <span class="kd">let</span> <span class="nx">params</span> <span class="o">=</span> <span class="dl">""</span><span class="p">;</span>
  <span class="k">for</span><span class="p">(</span><span class="kd">const</span> <span class="nx">key</span> <span class="k">in</span> <span class="nx">obj</span><span class="p">){</span>
    <span class="k">if</span><span class="p">(</span><span class="nb">Object</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">hasOwnProperty</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">obj</span><span class="p">,</span><span class="nx">key</span><span class="p">)){</span>
      <span class="c1">// "&amp;key=value" を params に追加</span>
      <span class="nx">params</span> <span class="o">+=</span> <span class="nx">separator</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">key</span><span class="p">)</span> <span class="o">+</span> <span class="dl">"</span><span class="s2">=</span><span class="dl">"</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">obj</span><span class="p">[</span><span class="nx">key</span><span class="p">]);</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="c1">// 先頭の "&amp;" が不要なので、取り除いたものを返す</span>
  <span class="k">return</span> <span class="nx">params</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
<span class="p">}</span>

<span class="kd">function</span> <span class="nx">tweet</span><span class="p">(</span><span class="nx">status</span><span class="p">){</span>
  <span class="c1">// ----- 設定 ----- //</span>
  <span class="kd">const</span> <span class="nx">apiKey</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">API Key</span><span class="dl">"</span>
  <span class="kd">const</span> <span class="nx">apiSec</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">API Secret</span><span class="dl">"</span>
  <span class="kd">const</span> <span class="nx">accessToken</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Access Token</span><span class="dl">"</span>
  <span class="kd">const</span> <span class="nx">accessSecret</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Access Token Secret</span><span class="dl">"</span>
  <span class="kd">const</span> <span class="nx">reqUrl</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">https://api.twitter.com/1.1/statuses/update.json</span><span class="dl">"</span><span class="p">;</span>  <span class="c1">// APIのリソースURL</span>

  <span class="c1">// 現在の時刻を取得</span>
  <span class="kd">const</span> <span class="nx">now</span> <span class="o">=</span> <span class="k">new</span> <span class="nb">Date</span><span class="p">();</span>

  <span class="kd">const</span> <span class="nx">param</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">oauth_consumer_key</span><span class="p">:</span> <span class="nx">apiKey</span><span class="p">,</span>
    <span class="na">oauth_token</span><span class="p">:</span> <span class="nx">accessToken</span><span class="p">,</span>
    <span class="na">status</span><span class="p">:</span> <span class="nx">status</span>
    <span class="na">oauth_nonce</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">random</span><span class="p">().</span><span class="nx">toString</span><span class="p">(</span><span class="mi">32</span><span class="p">).</span><span class="nx">substring</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span>  <span class="c1">// ランダムな文字列を得る</span>
    <span class="na">oauth_signature_method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">HMAC-SHA1</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">oauth_timestamp</span><span class="p">:</span> <span class="nb">Math</span><span class="p">.</span><span class="nx">floor</span><span class="p">(</span><span class="nx">now</span><span class="p">.</span><span class="nx">getTime</span><span class="p">()</span> <span class="o">/</span> <span class="mi">1000</span><span class="p">).</span><span class="nx">toString</span><span class="p">(),</span>  <span class="c1">// エポック秒</span>
    <span class="na">oauth_version</span><span class="p">:</span> <span class="dl">"</span><span class="s2">1.0</span><span class="dl">"</span><span class="p">,</span>
  <span class="p">}</span>


  <span class="c1">// HMAC-SHA1方式のハッシュ値に変換</span>
  <span class="kd">const</span> <span class="nx">hash</span> <span class="o">=</span> <span class="nx">Utilities</span><span class="p">.</span><span class="nx">computeHmacSignature</span><span class="p">(</span>
    <span class="nx">Utilities</span><span class="p">.</span><span class="nx">MacAlgorithm</span><span class="p">.</span><span class="nx">HMAC_SHA_1</span><span class="p">,</span>
    <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="dl">'</span><span class="s1">POST</span><span class="dl">'</span><span class="p">)</span><span class="o">+</span><span class="dl">"</span><span class="s2">&amp;</span><span class="dl">"</span><span class="o">+</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">reqUrl</span><span class="p">)</span><span class="o">+</span><span class="dl">"</span><span class="s2">&amp;</span><span class="dl">"</span><span class="o">+</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">createParams</span><span class="p">(</span><span class="nx">param</span><span class="p">,</span><span class="dl">"</span><span class="s2">&amp;</span><span class="dl">"</span><span class="p">)),</span>
    <span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">apiSec</span><span class="p">)</span><span class="o">+</span><span class="dl">"</span><span class="s2">&amp;</span><span class="dl">"</span><span class="o">+</span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">accessSecret</span><span class="p">)</span>
  <span class="p">)</span>

  <span class="c1">// ハッシュをbase64エンコードすると署名になる</span>
  <span class="kd">const</span> <span class="nx">sign</span> <span class="o">=</span> <span class="nx">Utilities</span><span class="p">.</span><span class="nx">base64Encode</span><span class="p">(</span><span class="nx">hash</span><span class="p">)</span>
  <span class="nx">param</span><span class="p">[</span><span class="dl">"</span><span class="s2">oauth_signature</span><span class="dl">"</span><span class="p">]</span> <span class="o">=</span> <span class="nx">sign</span>


  <span class="kd">const</span> <span class="nx">header</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">authorization</span><span class="p">:</span> <span class="s2">`OAuth </span><span class="p">${</span><span class="nx">createParams</span><span class="p">(</span><span class="nx">param</span><span class="p">,</span><span class="dl">"</span><span class="s2">,</span><span class="dl">"</span><span class="p">)}</span><span class="s2">`</span>
  <span class="p">}</span>

  <span class="kd">const</span> <span class="nx">option</span> <span class="o">=</span> <span class="p">{</span>
    <span class="na">method</span><span class="p">:</span> <span class="dl">"</span><span class="s2">POST</span><span class="dl">"</span><span class="p">,</span>
    <span class="na">headers</span><span class="p">:</span> <span class="nx">header</span><span class="p">,</span>
    <span class="na">payload</span><span class="p">:</span> <span class="p">{</span><span class="na">status</span><span class="p">:</span> <span class="nx">status</span><span class="p">},</span>
    <span class="na">muteHttpExceptions</span><span class="p">:</span> <span class="kc">true</span>
  <span class="p">}</span>

  <span class="c1">// APIを叩く</span>
  <span class="kd">const</span> <span class="nx">res</span> <span class="o">=</span> <span class="nx">UrlFetchApp</span><span class="p">.</span><span class="nx">fetch</span><span class="p">(</span><span class="nx">reqUrl</span><span class="p">,</span> <span class="nx">option</span><span class="p">)</span>

  <span class="c1">// 結果を出力する</span>
  <span class="nx">Logger</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">getResponseCode</span><span class="p">())</span>
  <span class="nx">Logger</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">getAllHeaders</span><span class="p">())</span>
  <span class="nx">Logger</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">getContentText</span><span class="p">())</span>
<span class="p">}</span>
</code></pre></div></div>

<p>もっときれいに処理ができたり、セキュリティ的に危ないところもあったりするかもしれないので、コピペの際は自己責任でお願いします…。</p>

<p>これで、どこかの処理で <code class="language-plaintext highlighter-rouge">tweet("hogehoge")</code> と呼び出せば <code class="language-plaintext highlighter-rouge">hogehoge</code> とツイートされるかと思います。以上。</p>]]></content><author><name>Asa</name></author><category term="Computer" /><category term="Google" /><category term="GAS" /><summary type="html"><![CDATA[GAS (Google Apps Script) から Twitter に投稿したいけど、検索してみるとライブラリを使うものだらけで、しかも同じライブラリ…。 でもそれだと自分のやりたいことは達成できない…ということでいろいろ試行錯誤した結果を書きます。]]></summary></entry></feed>