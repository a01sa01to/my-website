"use strict";(self.webpackChunkdefault=self.webpackChunkdefault||[]).push([[393],{393:(e,t,a)=>{a.r(t),a.d(t,{default:()=>l});var n=a(166);let o;const i=async()=>{const{default:e}=await a.e(755).then(a.t.bind(a,755,23));e("table td#upd").text(e(".modal#dl ul p#updated").text()),e("table td#filesize").text(e(".modal#dl ul p#filesize").text()),e(".modal ul p#updated").remove(),e(".modal ul p#filesize").remove(),e("table td").each((function(){let t=e(this).html();t=t.replace(/\(/gi,"<wbr>("),t=t.replace(/\_/gi,"<wbr>_"),t=t.replace(/、/gi,"、<wbr>"),t=t.replace(/\"\<wbr\>\_/gi,'"_'),e(this).html(t)}))},l=async()=>{const{default:e}=await a.e(755).then(a.t.bind(a,755,23));let t=e("input[type=hidden][name=fn]").attr("value");if(t){const e=t.split("/").slice(-1)[0],l=t.split("/").slice(-2)[0]+"/"+e;(async()=>{const{default:e}=await a.e(755).then(a.t.bind(a,755,23)),{default:t}=await a.e(239).then(a.t.bind(a,239,23));o=t.edit("ace",{tabSize:4,useSoftTabs:!0,wrap:!0,readOnly:!0,maxLines:10,minLines:1,fontSize:14});const{default:n}=await a.e(203).then(a.t.bind(a,203,23));o.setTheme(n);const i=e("table td#format").text();if("CSV"===i){const{default:e}=await a.e(160).then(a.t.bind(a,160,23));o.session.setMode(new e.Mode)}if("JSON"===i){const{default:e}=await a.e(252).then(a.t.bind(a,252,23));o.session.setMode(new e.Mode)}document.querySelectorAll("#ace *").forEach((e=>{const t=e;t.oncontextmenu=()=>!1,t.onselectstart=()=>!1,t.onselect=()=>!1,t.onmousedown=()=>!1,t.onkeydown=()=>!1}))})(),(async(e,t)=>{const{default:i}=await a.e(755).then(a.t.bind(a,755,23));i("div.flex button.pre").on("click",(async function(){o.setValue("Loading..."),o.clearSelection();const a=await fetch(e).then((e=>e.blob())).then((t=>(e=URL.createObjectURL(t),t.text()))).catch((e=>(console.error(e),n.v?"Failed to load file...":"ファイルの読み込みに失敗しました...")));o.setValue(a),o.clearSelection(),gtag("event","opendata_preview",{mode:"preview",file:t})}))})(t,l),(async(e,t,n)=>{const{default:o}=await a.e(755).then(a.t.bind(a,755,23));o(".modal#dl button.btn-outline-primary").on("click",(function(){const a=document.createElement("a");a.download=t,a.href=e,a.click(),a.remove(),gtag("event","opendata_download",{mode:"download",file:n})}))})(t,e,l),(async()=>{const{default:e}=await a.e(755).then(a.t.bind(a,755,23)),{default:t}=await a.e(152).then(a.t.bind(a,152,23)),o=new t(".modal#api button.btn-outline-primary"),{Toast:i}=await a.e(169).then(a.bind(a,169)),l=document.querySelector(".modal#api .toast"),d=new i(l||".modal#api .toast");o.on("error",(e=>{console.error("Action:",e.action),console.error("Trigger:",e.trigger),l&&(l.innerHTML=n.v?"Failed to Copy the Data":"コピーに失敗しました",l.classList.remove("bg-success"),l.classList.add("bg-danger"),d.show())})),e(".modal#api button.btn-outline-primary").on("click",(()=>{l&&(l.innerHTML=n.v?"Copied!":"コピーしました",l.classList.remove("bg-danger"),l.classList.add("bg-success"),d.show())}))})(),i()}}}}]);